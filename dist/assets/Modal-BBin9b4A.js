import{r as d}from"./vendor-react-BGSQ2gI6.js";import{s as m}from"./supabase-DGQgrMDL.js";import{j as o}from"./index-B3isd1_h.js";function s(e){const[i,l]=d.useState([]),[p,c]=d.useState(!0),[f,x]=d.useState(null),r=async()=>{try{c(!0),x(null);const{data:a,error:t}=await m.from(e).select("*").order("created_at",{ascending:!1});if(t)throw t;l(a||[])}catch(a){x(a instanceof Error?a.message:"An unexpected error occurred")}finally{c(!1)}},E=async a=>{try{const{data:t,error:n}=await m.from(e).insert([{...a,updated_at:new Date().toISOString()}]).select();if(n)throw n;return await r(),t[0]}catch(t){throw new Error(t instanceof Error?t.message:"Create operation failed")}},b=async(a,t)=>{try{const{data:n,error:u}=await m.from(e).update({...t,updated_at:new Date().toISOString()}).eq("id",a).select();if(u)throw u;return await r(),n[0]}catch(n){throw new Error(n instanceof Error?n.message:"Update operation failed")}},h=async a=>{try{const{error:t}=await m.from(e).delete().eq("id",a);if(t)throw t;await r()}catch(t){throw new Error(t instanceof Error?t.message:"Delete operation failed")}};return d.useEffect(()=>{r()},[e]),{data:i,loading:p,error:f,refresh:r,create:E,update:b,remove:h}}const y=()=>s("customers"),g=()=>s("employees"),A=()=>s("projects"),P=()=>s("vendors"),W=()=>s("purchase_orders"),R=()=>s("invoices"),k={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"};function D({isOpen:e,onClose:i,title:l,children:p,size:c="md"}){return e?o.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto","data-matrix-id":"E:/ERP Works/innobi-opscore/src/components/ui/Modal.tsx:20:4","data-matrix-name":"div","data-component-path":"E:/ERP Works/innobi-opscore/src/components/ui/Modal.tsx","data-component-line":"20","data-component-file":"Modal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22fixed%20inset-0%20z-50%20overflow-y-auto%22%7D",children:o.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0","data-matrix-id":"E:/ERP Works/innobi-opscore/src/components/ui/Modal.tsx:21:6","data-matrix-name":"div","data-component-path":"E:/ERP Works/innobi-opscore/src/components/ui/Modal.tsx","data-component-line":"21","data-component-file":"Modal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-center%20min-h-screen%20px-4%20pt-4%20pb-20%20text-center%20sm%3Ablock%20sm%3Ap-0%22%7D",children:[o.jsx("div",{className:"fixed inset-0 transition-opacity bg-black/60 backdrop-blur-sm",onClick:i,"data-matrix-id":"E:/ERP Works/innobi-opscore/src/components/ui/Modal.tsx:23:8","data-matrix-name":"div","data-component-path":"E:/ERP Works/innobi-opscore/src/components/ui/Modal.tsx","data-component-line":"23","data-component-file":"Modal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22fixed%20inset-0%20transition-opacity%20bg-black%2F60%20backdrop-blur-sm%22%2C%22onClick%22%3A%22%5BIdentifier%5D%22%7D"}),o.jsxs("div",{className:`
          inline-block w-full ${k[c]} p-6 my-8 text-left align-middle
          transition-all transform rounded-2xl
        `,style:{background:"var(--modal-bg)",border:"1px solid var(--modal-border)",boxShadow:"var(--modal-shadow)",backdropFilter:"blur(12px)"},"data-matrix-id":"E:/ERP Works/innobi-opscore/src/components/ui/Modal.tsx:29:8","data-matrix-name":"div","data-component-path":"E:/ERP Works/innobi-opscore/src/components/ui/Modal.tsx","data-component-line":"29","data-component-file":"Modal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22%5BTemplateLiteral%5D%22%2C%22style%22%3A%7B%22background%22%3A%22var(--modal-bg)%22%2C%22border%22%3A%22%5BTemplateLiteral%5D%22%2C%22boxShadow%22%3A%22var(--modal-shadow)%22%2C%22backdropFilter%22%3A%22blur(12px)%22%7D%7D",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4","data-matrix-id":"E:/ERP Works/innobi-opscore/src/components/ui/Modal.tsx:34:10","data-matrix-name":"div","data-component-path":"E:/ERP Works/innobi-opscore/src/components/ui/Modal.tsx","data-component-line":"34","data-component-file":"Modal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%20mb-4%22%7D",children:[o.jsx("h3",{className:"text-lg font-semibold text-[var(--text-primary)]","data-matrix-id":"E:/ERP Works/innobi-opscore/src/components/ui/Modal.tsx:35:12","data-matrix-name":"h3","data-component-path":"E:/ERP Works/innobi-opscore/src/components/ui/Modal.tsx","data-component-line":"35","data-component-file":"Modal.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22text-lg%20font-semibold%20text-%5Bvar(--text-primary)%5D%22%7D",children:l}),o.jsxs("button",{onClick:i,className:"text-gray-400 hover:text-gray-200 transition-colors","data-matrix-id":"E:/ERP Works/innobi-opscore/src/components/ui/Modal.tsx:38:12","data-matrix-name":"button","data-component-path":"E:/ERP Works/innobi-opscore/src/components/ui/Modal.tsx","data-component-line":"38","data-component-file":"Modal.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22text-gray-400%20hover%3Atext-gray-200%20transition-colors%22%7D",children:[o.jsx("span",{className:"sr-only","data-matrix-id":"E:/ERP Works/innobi-opscore/src/components/ui/Modal.tsx:42:14","data-matrix-name":"span","data-component-path":"E:/ERP Works/innobi-opscore/src/components/ui/Modal.tsx","data-component-line":"42","data-component-file":"Modal.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22sr-only%22%7D",children:"Kapat"}),o.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","data-matrix-id":"E:/ERP Works/innobi-opscore/src/components/ui/Modal.tsx:43:14","data-matrix-name":"svg","data-component-path":"E:/ERP Works/innobi-opscore/src/components/ui/Modal.tsx","data-component-line":"43","data-component-file":"Modal.tsx","data-component-name":"svg","data-component-content":"%7B%22className%22%3A%22w-6%20h-6%22%2C%22fill%22%3A%22none%22%2C%22viewBox%22%3A%220%200%2024%2024%22%2C%22stroke%22%3A%22currentColor%22%7D",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12","data-matrix-id":"E:/ERP Works/innobi-opscore/src/components/ui/Modal.tsx:44:16","data-matrix-name":"path","data-component-path":"E:/ERP Works/innobi-opscore/src/components/ui/Modal.tsx","data-component-line":"44","data-component-file":"Modal.tsx","data-component-name":"path","data-component-content":"%7B%22strokeLinecap%22%3A%22round%22%2C%22strokeLinejoin%22%3A%22round%22%2C%22strokeWidth%22%3A2%2C%22d%22%3A%22M6%2018L18%206M6%206l12%2012%22%7D"})})]})]}),o.jsx("div",{"data-matrix-id":"E:/ERP Works/innobi-opscore/src/components/ui/Modal.tsx:50:10","data-matrix-name":"div","data-component-path":"E:/ERP Works/innobi-opscore/src/components/ui/Modal.tsx","data-component-line":"50","data-component-file":"Modal.tsx","data-component-name":"div",children:p})]})]})}):null}export{D as M,A as a,P as b,g as c,W as d,R as e,y as u};
