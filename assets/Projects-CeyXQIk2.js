import{j as t,L as A,u as P}from"./index-Dn2jA3nH.js";import{r as x,j as R}from"./vendor-react-CNbrv-oV.js";import{a as W,M as v}from"./Modal-DUd8gnHQ.js";import{u as N,v as D,w as T,x as B,y as w,z as C}from"./vendor-ui-C170yg1O.js";import"./vendor-supabase-C9mJ7zzj.js";import"./supabase-CqEW8rsV.js";function F({project:a,onSubmit:E,onCancel:b}){const[s,u]=x.useState({project_number:(a==null?void 0:a.project_number)||"",customer_name:(a==null?void 0:a.customer_name)||"",start_date:(a==null?void 0:a.start_date)||"",status:(a==null?void 0:a.status)||"Active"}),[n,j]=x.useState({}),c=()=>{const o={};return s.project_number.trim()||(o.project_number="Project number is required"),s.customer_name.trim()||(o.customer_name="Customer name is required"),s.start_date||(o.start_date="Start date is required"),j(o),Object.keys(o).length===0},m=o=>{o.preventDefault(),c()&&E(s)},r=(o,p)=>{u(l=>({...l,[o]:p})),n[o]&&j(l=>({...l,[o]:""}))};return t.jsxs("form",{onSubmit:m,className:"space-y-6","data-matrix-id":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectForm.tsx:56:4","data-matrix-name":"form","data-component-path":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectForm.tsx","data-component-line":"56","data-component-file":"ProjectForm.tsx","data-component-name":"form","data-component-content":"%7B%22onSubmit%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22space-y-6%22%7D",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4","data-matrix-id":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectForm.tsx:57:6","data-matrix-name":"div","data-component-path":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectForm.tsx","data-component-line":"57","data-component-file":"ProjectForm.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-1%20md%3Agrid-cols-2%20gap-4%22%7D",children:[t.jsxs("div",{"data-matrix-id":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectForm.tsx:59:8","data-matrix-name":"div","data-component-path":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectForm.tsx","data-component-line":"59","data-component-file":"ProjectForm.tsx","data-component-name":"div",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1","data-matrix-id":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectForm.tsx:60:10","data-matrix-name":"label","data-component-path":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectForm.tsx","data-component-line":"60","data-component-file":"ProjectForm.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-sm%20font-medium%20text-slate-700%20mb-1%22%7D",children:"Project Number *"}),t.jsx("input",{type:"text",value:s.project_number,onChange:o=>r("project_number",o.target.value),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${n.project_number?"border-red-300":"border-slate-300"}`,placeholder:"PRJ-2024-001","data-matrix-id":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectForm.tsx:63:10","data-matrix-name":"input","data-component-path":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectForm.tsx","data-component-line":"63","data-component-file":"ProjectForm.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22text%22%2C%22value%22%3A%22%5BMemberExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22%5BTemplateLiteral%5D%22%2C%22placeholder%22%3A%22PRJ-2024-001%22%7D"}),n.project_number&&t.jsx("p",{className:"text-red-600 text-sm mt-1","data-matrix-id":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectForm.tsx:72:36","data-matrix-name":"p","data-component-path":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectForm.tsx","data-component-line":"72","data-component-file":"ProjectForm.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-red-600%20text-sm%20mt-1%22%7D",children:n.project_number})]}),t.jsxs("div",{"data-matrix-id":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectForm.tsx:76:8","data-matrix-name":"div","data-component-path":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectForm.tsx","data-component-line":"76","data-component-file":"ProjectForm.tsx","data-component-name":"div",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1","data-matrix-id":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectForm.tsx:77:10","data-matrix-name":"label","data-component-path":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectForm.tsx","data-component-line":"77","data-component-file":"ProjectForm.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-sm%20font-medium%20text-slate-700%20mb-1%22%7D",children:"Customer Name *"}),t.jsx("input",{type:"text",value:s.customer_name,onChange:o=>r("customer_name",o.target.value),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${n.customer_name?"border-red-300":"border-slate-300"}`,placeholder:"Enter customer name","data-matrix-id":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectForm.tsx:80:10","data-matrix-name":"input","data-component-path":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectForm.tsx","data-component-line":"80","data-component-file":"ProjectForm.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22text%22%2C%22value%22%3A%22%5BMemberExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22%5BTemplateLiteral%5D%22%2C%22placeholder%22%3A%22Enter%20customer%20name%22%7D"}),n.customer_name&&t.jsx("p",{className:"text-red-600 text-sm mt-1","data-matrix-id":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectForm.tsx:89:35","data-matrix-name":"p","data-component-path":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectForm.tsx","data-component-line":"89","data-component-file":"ProjectForm.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-red-600%20text-sm%20mt-1%22%7D",children:n.customer_name})]}),t.jsxs("div",{"data-matrix-id":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectForm.tsx:93:8","data-matrix-name":"div","data-component-path":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectForm.tsx","data-component-line":"93","data-component-file":"ProjectForm.tsx","data-component-name":"div",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1","data-matrix-id":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectForm.tsx:94:10","data-matrix-name":"label","data-component-path":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectForm.tsx","data-component-line":"94","data-component-file":"ProjectForm.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-sm%20font-medium%20text-slate-700%20mb-1%22%7D",children:"Start Date *"}),t.jsx("input",{type:"date",value:s.start_date,onChange:o=>r("start_date",o.target.value),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${n.start_date?"border-red-300":"border-slate-300"}`,"data-matrix-id":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectForm.tsx:97:10","data-matrix-name":"input","data-component-path":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectForm.tsx","data-component-line":"97","data-component-file":"ProjectForm.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22date%22%2C%22value%22%3A%22%5BMemberExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22%5BTemplateLiteral%5D%22%7D"}),n.start_date&&t.jsx("p",{className:"text-red-600 text-sm mt-1","data-matrix-id":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectForm.tsx:105:32","data-matrix-name":"p","data-component-path":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectForm.tsx","data-component-line":"105","data-component-file":"ProjectForm.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-red-600%20text-sm%20mt-1%22%7D",children:n.start_date})]}),t.jsxs("div",{"data-matrix-id":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectForm.tsx:109:8","data-matrix-name":"div","data-component-path":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectForm.tsx","data-component-line":"109","data-component-file":"ProjectForm.tsx","data-component-name":"div",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1","data-matrix-id":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectForm.tsx:110:10","data-matrix-name":"label","data-component-path":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectForm.tsx","data-component-line":"110","data-component-file":"ProjectForm.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-sm%20font-medium%20text-slate-700%20mb-1%22%7D",children:"Status"}),t.jsxs("select",{value:s.status,onChange:o=>r("status",o.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500","data-matrix-id":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectForm.tsx:113:10","data-matrix-name":"select","data-component-path":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectForm.tsx","data-component-line":"113","data-component-file":"ProjectForm.tsx","data-component-name":"select","data-component-content":"%7B%22value%22%3A%22%5BMemberExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-full%20px-3%20py-2%20border%20border-slate-300%20rounded-lg%20focus%3Aoutline-none%20focus%3Aring-2%20focus%3Aring-blue-500%22%7D",children:[t.jsx("option",{value:"Active","data-matrix-id":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectForm.tsx:118:12","data-matrix-name":"option","data-component-path":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectForm.tsx","data-component-line":"118","data-component-file":"ProjectForm.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22Active%22%7D",children:"Active"}),t.jsx("option",{value:"On Hold","data-matrix-id":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectForm.tsx:119:12","data-matrix-name":"option","data-component-path":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectForm.tsx","data-component-line":"119","data-component-file":"ProjectForm.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22On%20Hold%22%7D",children:"On Hold"}),t.jsx("option",{value:"Completed","data-matrix-id":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectForm.tsx:120:12","data-matrix-name":"option","data-component-path":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectForm.tsx","data-component-line":"120","data-component-file":"ProjectForm.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22Completed%22%7D",children:"Completed"}),t.jsx("option",{value:"Cancelled","data-matrix-id":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectForm.tsx:121:12","data-matrix-name":"option","data-component-path":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectForm.tsx","data-component-line":"121","data-component-file":"ProjectForm.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22Cancelled%22%7D",children:"Cancelled"})]})]})]}),t.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t","data-matrix-id":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectForm.tsx:127:6","data-matrix-name":"div","data-component-path":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectForm.tsx","data-component-line":"127","data-component-file":"ProjectForm.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-end%20space-x-3%20pt-4%20border-t%22%7D",children:[t.jsx("button",{type:"button",onClick:b,className:"px-4 py-2 text-slate-600 border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors","data-matrix-id":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectForm.tsx:128:8","data-matrix-name":"button","data-component-path":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectForm.tsx","data-component-line":"128","data-component-file":"ProjectForm.tsx","data-component-name":"button","data-component-content":"%7B%22type%22%3A%22button%22%2C%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22px-4%20py-2%20text-slate-600%20border%20border-slate-300%20rounded-lg%20hover%3Abg-slate-50%20transition-colors%22%7D",children:"Cancel"}),t.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors","data-matrix-id":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectForm.tsx:135:8","data-matrix-name":"button","data-component-path":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectForm.tsx","data-component-line":"135","data-component-file":"ProjectForm.tsx","data-component-name":"button","data-component-content":"%7B%22type%22%3A%22submit%22%2C%22className%22%3A%22px-4%20py-2%20bg-blue-600%20text-white%20rounded-lg%20hover%3Abg-blue-700%20transition-colors%22%7D",children:a?"Update":"Create"})]})]})}function y({projects:a,onEdit:E,onDelete:b}){const[s,u]=x.useState(""),[n,j]=x.useState("project_number"),[c,m]=x.useState("asc"),r=a.filter(e=>e.project_number.toLowerCase().includes(s.toLowerCase())||e.customer_name.toLowerCase().includes(s.toLowerCase())).sort((e,h)=>{const f=e[n]||"",k=h[n]||"";return c==="asc"?f.toString().localeCompare(k.toString()):k.toString().localeCompare(f.toString())}),o=e=>{n===e?m(c==="asc"?"desc":"asc"):(j(e),m("asc"))},p=e=>n!==e?null:c==="asc"?t.jsx(B,{className:"w-3 h-3 inline opacity-60","data-matrix-id":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectTable.tsx:45:8","data-matrix-name":"ChevronUp","data-component-path":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectTable.tsx","data-component-line":"45","data-component-file":"ProjectTable.tsx","data-component-name":"ChevronUp","data-component-content":"%7B%22className%22%3A%22w-3%20h-3%20inline%20opacity-60%22%7D"}):t.jsx(w,{className:"w-3 h-3 inline opacity-60","data-matrix-id":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectTable.tsx:46:8","data-matrix-name":"ChevronDown","data-component-path":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectTable.tsx","data-component-line":"46","data-component-file":"ProjectTable.tsx","data-component-name":"ChevronDown","data-component-content":"%7B%22className%22%3A%22w-3%20h-3%20inline%20opacity-60%22%7D"}),l=e=>{switch(e){case"Active":return"bg-green-100 text-green-800";case"On Hold":return"bg-yellow-100 text-yellow-800";case"Completed":return"bg-blue-100 text-blue-800";case"Cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},g=e=>new Date(e).toLocaleDateString("en-US");return t.jsxs("div",{className:"card-elevated table-card","data-matrix-id":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectTable.tsx:69:4","data-matrix-name":"div","data-component-path":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectTable.tsx","data-component-line":"69","data-component-file":"ProjectTable.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22card-elevated%20table-card%22%7D",children:[t.jsx("div",{className:"p-4 border-b border-slate-200","data-matrix-id":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectTable.tsx:71:6","data-matrix-name":"div","data-component-path":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectTable.tsx","data-component-line":"71","data-component-file":"ProjectTable.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22p-4%20border-b%20border-slate-200%22%7D",children:t.jsxs("div",{className:"relative","data-matrix-id":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectTable.tsx:72:8","data-matrix-name":"div","data-component-path":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectTable.tsx","data-component-line":"72","data-component-file":"ProjectTable.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22relative%22%7D",children:[t.jsx(N,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-4 h-4","data-matrix-id":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectTable.tsx:73:10","data-matrix-name":"Search","data-component-path":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectTable.tsx","data-component-line":"73","data-component-file":"ProjectTable.tsx","data-component-name":"Search","data-component-content":"%7B%22className%22%3A%22absolute%20left-3%20top-1%2F2%20transform%20-translate-y-1%2F2%20text-slate-400%20w-4%20h-4%22%7D"}),t.jsx("input",{type:"text",value:s,onChange:e=>u(e.target.value),placeholder:"Search projects...",className:"pl-10 pr-4 py-2 w-full border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500","data-matrix-id":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectTable.tsx:74:10","data-matrix-name":"input","data-component-path":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectTable.tsx","data-component-line":"74","data-component-file":"ProjectTable.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22text%22%2C%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22placeholder%22%3A%22Search%20projects...%22%2C%22className%22%3A%22pl-10%20pr-4%20py-2%20w-full%20border%20border-slate-300%20rounded-lg%20focus%3Aoutline-none%20focus%3Aring-2%20focus%3Aring-blue-500%22%7D"})]})}),t.jsx("div",{className:"overflow-x-auto","data-matrix-id":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectTable.tsx:85:6","data-matrix-name":"div","data-component-path":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectTable.tsx","data-component-line":"85","data-component-file":"ProjectTable.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22overflow-x-auto%22%7D",children:t.jsxs("table",{className:"w-full","data-matrix-id":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectTable.tsx:86:8","data-matrix-name":"table","data-component-path":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectTable.tsx","data-component-line":"86","data-component-file":"ProjectTable.tsx","data-component-name":"table","data-component-content":"%7B%22className%22%3A%22w-full%22%7D",children:[t.jsx("thead",{className:"bg-[var(--bg-table-header)]","data-matrix-id":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectTable.tsx:87:10","data-matrix-name":"thead","data-component-path":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectTable.tsx","data-component-line":"87","data-component-file":"ProjectTable.tsx","data-component-name":"thead","data-component-content":"%7B%22className%22%3A%22bg-%5Bvar(--bg-table-header)%5D%22%7D",children:t.jsxs("tr",{"data-matrix-id":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectTable.tsx:88:12","data-matrix-name":"tr","data-component-path":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectTable.tsx","data-component-line":"88","data-component-file":"ProjectTable.tsx","data-component-name":"tr",children:[t.jsxs("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider cursor-pointer hover:bg-slate-100",onClick:()=>o("project_number"),"data-matrix-id":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectTable.tsx:89:14","data-matrix-name":"th","data-component-path":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectTable.tsx","data-component-line":"89","data-component-file":"ProjectTable.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22px-4%20py-3%20text-left%20text-xs%20font-medium%20text-slate-500%20uppercase%20tracking-wider%20cursor-pointer%20hover%3Abg-slate-100%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%7D",children:["Project Number",t.jsx("span",{className:"ml-1","data-matrix-id":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectTable.tsx:94:16","data-matrix-name":"span","data-component-path":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectTable.tsx","data-component-line":"94","data-component-file":"ProjectTable.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22ml-1%22%7D",children:p("project_number")})]}),t.jsxs("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider cursor-pointer hover:bg-slate-100",onClick:()=>o("customer_name"),"data-matrix-id":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectTable.tsx:96:14","data-matrix-name":"th","data-component-path":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectTable.tsx","data-component-line":"96","data-component-file":"ProjectTable.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22px-4%20py-3%20text-left%20text-xs%20font-medium%20text-slate-500%20uppercase%20tracking-wider%20cursor-pointer%20hover%3Abg-slate-100%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%7D",children:["Customer",t.jsx("span",{className:"ml-1","data-matrix-id":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectTable.tsx:101:16","data-matrix-name":"span","data-component-path":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectTable.tsx","data-component-line":"101","data-component-file":"ProjectTable.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22ml-1%22%7D",children:p("customer_name")})]}),t.jsxs("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider cursor-pointer hover:bg-slate-100",onClick:()=>o("start_date"),"data-matrix-id":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectTable.tsx:103:14","data-matrix-name":"th","data-component-path":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectTable.tsx","data-component-line":"103","data-component-file":"ProjectTable.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22px-4%20py-3%20text-left%20text-xs%20font-medium%20text-slate-500%20uppercase%20tracking-wider%20cursor-pointer%20hover%3Abg-slate-100%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%7D",children:["Start Date",t.jsx("span",{className:"ml-1","data-matrix-id":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectTable.tsx:108:16","data-matrix-name":"span","data-component-path":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectTable.tsx","data-component-line":"108","data-component-file":"ProjectTable.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22ml-1%22%7D",children:p("start_date")})]}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider","data-matrix-id":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectTable.tsx:110:14","data-matrix-name":"th","data-component-path":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectTable.tsx","data-component-line":"110","data-component-file":"ProjectTable.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22px-4%20py-3%20text-left%20text-xs%20font-medium%20text-slate-500%20uppercase%20tracking-wider%22%7D",children:"Status"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider","data-matrix-id":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectTable.tsx:113:14","data-matrix-name":"th","data-component-path":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectTable.tsx","data-component-line":"113","data-component-file":"ProjectTable.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22px-4%20py-3%20text-right%20text-xs%20font-medium%20text-slate-500%20uppercase%20tracking-wider%22%7D",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-[var(--bg-table-row)] divide-y divide-[var(--table-border)]","data-matrix-id":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectTable.tsx:118:10","data-matrix-name":"tbody","data-component-path":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectTable.tsx","data-component-line":"118","data-component-file":"ProjectTable.tsx","data-component-name":"tbody","data-component-content":"%7B%22className%22%3A%22bg-%5Bvar(--bg-table-row)%5D%20divide-y%20divide-%5Bvar(--table-border)%5D%22%7D",children:r.length===0?t.jsx("tr",{"data-matrix-id":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectTable.tsx:120:14","data-matrix-name":"tr","data-component-path":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectTable.tsx","data-component-line":"120","data-component-file":"ProjectTable.tsx","data-component-name":"tr",children:t.jsx("td",{colSpan:5,className:"px-4 py-8 text-center text-slate-500","data-matrix-id":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectTable.tsx:121:16","data-matrix-name":"td","data-component-path":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectTable.tsx","data-component-line":"121","data-component-file":"ProjectTable.tsx","data-component-name":"td","data-component-content":"%7B%22colSpan%22%3A5%2C%22className%22%3A%22px-4%20py-8%20text-center%20text-slate-500%22%7D",children:s?"No projects found matching search criteria":"No projects registered yet"})}):r.map((e,h)=>t.jsxs("tr",{className:`hover:bg-[var(--bg-table-hover)] ${h%2===0?"bg-[var(--bg-table-row)]":"bg-[var(--bg-table-row-alt)]"}`,"data-matrix-id":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectTable.tsx:127:16","data-matrix-name":"tr","data-component-path":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectTable.tsx","data-component-line":"127","data-component-file":"ProjectTable.tsx","data-component-name":"tr","data-component-content":"%7B%22className%22%3A%22%5BTemplateLiteral%5D%22%7D",children:[t.jsx("td",{className:"px-4 py-4 whitespace-nowrap","data-matrix-id":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectTable.tsx:130:18","data-matrix-name":"td","data-component-path":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectTable.tsx","data-component-line":"130","data-component-file":"ProjectTable.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-4%20py-4%20whitespace-nowrap%22%7D",children:t.jsx("div",{className:"font-medium text-[var(--text-primary)]","data-matrix-id":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectTable.tsx:131:20","data-matrix-name":"div","data-component-path":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectTable.tsx","data-component-line":"131","data-component-file":"ProjectTable.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22font-medium%20text-%5Bvar(--text-primary)%5D%22%7D",children:e.project_number})}),t.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-slate-600","data-matrix-id":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectTable.tsx:133:18","data-matrix-name":"td","data-component-path":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectTable.tsx","data-component-line":"133","data-component-file":"ProjectTable.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-4%20py-4%20whitespace-nowrap%20text-slate-600%22%7D",children:e.customer_name}),t.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-slate-600","data-matrix-id":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectTable.tsx:136:18","data-matrix-name":"td","data-component-path":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectTable.tsx","data-component-line":"136","data-component-file":"ProjectTable.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-4%20py-4%20whitespace-nowrap%20text-slate-600%22%7D",children:g(e.start_date)}),t.jsx("td",{className:"px-4 py-4 whitespace-nowrap","data-matrix-id":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectTable.tsx:139:18","data-matrix-name":"td","data-component-path":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectTable.tsx","data-component-line":"139","data-component-file":"ProjectTable.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-4%20py-4%20whitespace-nowrap%22%7D",children:t.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${l(e.status||"Active")}`,"data-matrix-id":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectTable.tsx:140:20","data-matrix-name":"span","data-component-path":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectTable.tsx","data-component-line":"140","data-component-file":"ProjectTable.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22%5BTemplateLiteral%5D%22%7D",children:e.status||"Active"})}),t.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-right","data-matrix-id":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectTable.tsx:144:18","data-matrix-name":"td","data-component-path":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectTable.tsx","data-component-line":"144","data-component-file":"ProjectTable.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-4%20py-4%20whitespace-nowrap%20text-right%22%7D",children:t.jsxs("div",{className:"flex items-center justify-end space-x-2","data-matrix-id":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectTable.tsx:145:20","data-matrix-name":"div","data-component-path":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectTable.tsx","data-component-line":"145","data-component-file":"ProjectTable.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-end%20space-x-2%22%7D",children:[t.jsx("button",{onClick:()=>E(e),className:"p-1 text-slate-600 dark:text-slate-200 hover:text-blue-600 dark:hover:text-blue-300 hover:bg-blue-50 dark:hover:bg-white/10 rounded",title:"Edit","data-matrix-id":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectTable.tsx:146:22","data-matrix-name":"button","data-component-path":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectTable.tsx","data-component-line":"146","data-component-file":"ProjectTable.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22p-1%20text-slate-600%20dark%3Atext-slate-200%20hover%3Atext-blue-600%20dark%3Ahover%3Atext-blue-300%20hover%3Abg-blue-50%20dark%3Ahover%3Abg-white%2F10%20rounded%22%2C%22title%22%3A%22Edit%22%7D",children:t.jsx(D,{className:"w-4 h-4","data-matrix-id":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectTable.tsx:151:24","data-matrix-name":"Edit2","data-component-path":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectTable.tsx","data-component-line":"151","data-component-file":"ProjectTable.tsx","data-component-name":"Edit2","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%22%7D"})}),t.jsx("button",{onClick:()=>b(e),className:"p-1 text-slate-600 dark:text-slate-200 hover:text-red-600 dark:hover:text-red-300 hover:bg-red-50 dark:hover:bg-white/10 rounded",title:"Delete","data-matrix-id":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectTable.tsx:153:22","data-matrix-name":"button","data-component-path":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectTable.tsx","data-component-line":"153","data-component-file":"ProjectTable.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22p-1%20text-slate-600%20dark%3Atext-slate-200%20hover%3Atext-red-600%20dark%3Ahover%3Atext-red-300%20hover%3Abg-red-50%20dark%3Ahover%3Abg-white%2F10%20rounded%22%2C%22title%22%3A%22Delete%22%7D",children:t.jsx(T,{className:"w-4 h-4","data-matrix-id":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectTable.tsx:158:24","data-matrix-name":"Trash2","data-component-path":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectTable.tsx","data-component-line":"158","data-component-file":"ProjectTable.tsx","data-component-name":"Trash2","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%22%7D"})})]})})]},e.id))})]})}),t.jsxs("div",{className:"px-4 py-3 border-t border-slate-200 text-sm text-slate-600","data-matrix-id":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectTable.tsx:170:6","data-matrix-name":"div","data-component-path":"E:/ERP Works/innobi-opscore/src/components/projects/ProjectTable.tsx","data-component-line":"170","data-component-file":"ProjectTable.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22px-4%20py-3%20border-t%20border-slate-200%20text-sm%20text-slate-600%22%7D",children:["Total ",r.length," projects"]})]})}function U(){const{data:a,loading:E,error:b,create:s,update:u,remove:n}=W(),[j,c]=x.useState(!1),[m,r]=x.useState(null),[o]=R(),p=o.get("status"),l=async i=>{try{await s(i),c(!1),P.success("Project created")}catch(d){P.error("Error while creating project",{description:d instanceof Error?d.message:"Unknown error"})}},g=async i=>{if(m)try{await u(m.id,i),c(!1),r(null),P.success("Project updated")}catch(d){P.error("Error while updating project",{description:d instanceof Error?d.message:"Unknown error"})}},e=i=>{r(i),c(!0)},h=async i=>{if(confirm(`Are you sure you want to delete project ${i.project_number}?`))try{await n(i.id),P.success("Project deleted")}catch(d){P.error("Error while deleting project",{description:d instanceof Error?d.message:"Unknown error"})}},f=()=>{c(!1),r(null)};if(E)return t.jsx("div",{className:"flex items-center justify-center h-64","data-matrix-id":"E:/ERP Works/innobi-opscore/src/pages/Projects.tsx:67:6","data-matrix-name":"div","data-component-path":"E:/ERP Works/innobi-opscore/src/pages/Projects.tsx","data-component-line":"67","data-component-file":"Projects.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-center%20h-64%22%7D",children:t.jsx(A,{size:"lg","data-matrix-id":"E:/ERP Works/innobi-opscore/src/pages/Projects.tsx:68:8","data-matrix-name":"LoadingSpinner","data-component-path":"E:/ERP Works/innobi-opscore/src/pages/Projects.tsx","data-component-line":"68","data-component-file":"Projects.tsx","data-component-name":"LoadingSpinner","data-component-content":"%7B%22size%22%3A%22lg%22%7D"})});if(b)return t.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4","data-matrix-id":"E:/ERP Works/innobi-opscore/src/pages/Projects.tsx:75:6","data-matrix-name":"div","data-component-path":"E:/ERP Works/innobi-opscore/src/pages/Projects.tsx","data-component-line":"75","data-component-file":"Projects.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-red-50%20border%20border-red-200%20rounded-lg%20p-4%22%7D",children:t.jsxs("p",{className:"text-red-600","data-matrix-id":"E:/ERP Works/innobi-opscore/src/pages/Projects.tsx:76:8","data-matrix-name":"p","data-component-path":"E:/ERP Works/innobi-opscore/src/pages/Projects.tsx","data-component-line":"76","data-component-file":"Projects.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-red-600%22%7D",children:["Hata: ",b]})});const k=p?a.filter(i=>(i.status||"").toLowerCase()===p.toLowerCase()):a;return t.jsxs("div",{className:"space-y-6","data-matrix-id":"E:/ERP Works/innobi-opscore/src/pages/Projects.tsx:86:4","data-matrix-name":"div","data-component-path":"E:/ERP Works/innobi-opscore/src/pages/Projects.tsx","data-component-line":"86","data-component-file":"Projects.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-6%22%7D",children:[t.jsxs("div",{className:"flex items-center justify-between","data-matrix-id":"E:/ERP Works/innobi-opscore/src/pages/Projects.tsx:88:6","data-matrix-name":"div","data-component-path":"E:/ERP Works/innobi-opscore/src/pages/Projects.tsx","data-component-line":"88","data-component-file":"Projects.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%22%7D",children:[t.jsxs("div",{"data-matrix-id":"E:/ERP Works/innobi-opscore/src/pages/Projects.tsx:89:8","data-matrix-name":"div","data-component-path":"E:/ERP Works/innobi-opscore/src/pages/Projects.tsx","data-component-line":"89","data-component-file":"Projects.tsx","data-component-name":"div",children:[t.jsx("h1",{className:"text-2xl font-bold text-[var(--text-primary)]","data-matrix-id":"E:/ERP Works/innobi-opscore/src/pages/Projects.tsx:90:10","data-matrix-name":"h1","data-component-path":"E:/ERP Works/innobi-opscore/src/pages/Projects.tsx","data-component-line":"90","data-component-file":"Projects.tsx","data-component-name":"h1","data-component-content":"%7B%22className%22%3A%22text-2xl%20font-bold%20text-%5Bvar(--text-primary)%5D%22%7D",children:"Projects"}),t.jsx("p",{className:"text-slate-600 mt-1","data-matrix-id":"E:/ERP Works/innobi-opscore/src/pages/Projects.tsx:91:10","data-matrix-name":"p","data-component-path":"E:/ERP Works/innobi-opscore/src/pages/Projects.tsx","data-component-line":"91","data-component-file":"Projects.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-slate-600%20mt-1%22%7D",children:"Manage project information"})]}),t.jsxs("button",{onClick:()=>c(!0),className:"btn-primary flex items-center gap-2","data-matrix-id":"E:/ERP Works/innobi-opscore/src/pages/Projects.tsx:93:8","data-matrix-name":"button","data-component-path":"E:/ERP Works/innobi-opscore/src/pages/Projects.tsx","data-component-line":"93","data-component-file":"Projects.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22btn-primary%20flex%20items-center%20gap-2%22%7D",children:[t.jsx(C,{className:"w-4 h-4","data-matrix-id":"E:/ERP Works/innobi-opscore/src/pages/Projects.tsx:97:10","data-matrix-name":"Plus","data-component-path":"E:/ERP Works/innobi-opscore/src/pages/Projects.tsx","data-component-line":"97","data-component-file":"Projects.tsx","data-component-name":"Plus","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%22%7D"}),"New Project"]})]}),t.jsx(y,{projects:k,onEdit:e,onDelete:h,"data-matrix-id":"E:/ERP Works/innobi-opscore/src/pages/Projects.tsx:103:6","data-matrix-name":"ProjectTable","data-component-path":"E:/ERP Works/innobi-opscore/src/pages/Projects.tsx","data-component-line":"103","data-component-file":"Projects.tsx","data-component-name":"ProjectTable","data-component-content":"%7B%22projects%22%3A%22%5BIdentifier%5D%22%2C%22onEdit%22%3A%22%5BIdentifier%5D%22%2C%22onDelete%22%3A%22%5BIdentifier%5D%22%7D"}),t.jsx(v,{isOpen:j,onClose:f,title:m?"Edit Project":"New Project",size:"lg","data-matrix-id":"E:/ERP Works/innobi-opscore/src/pages/Projects.tsx:110:6","data-matrix-name":"Modal","data-component-path":"E:/ERP Works/innobi-opscore/src/pages/Projects.tsx","data-component-line":"110","data-component-file":"Projects.tsx","data-component-name":"Modal","data-component-content":"%7B%22isOpen%22%3A%22%5BIdentifier%5D%22%2C%22onClose%22%3A%22%5BIdentifier%5D%22%2C%22title%22%3A%22%5BConditionalExpression%5D%22%2C%22size%22%3A%22lg%22%7D",children:t.jsx(F,{project:m,onSubmit:m?g:l,onCancel:f,"data-matrix-id":"E:/ERP Works/innobi-opscore/src/pages/Projects.tsx:116:8","data-matrix-name":"ProjectForm","data-component-path":"E:/ERP Works/innobi-opscore/src/pages/Projects.tsx","data-component-line":"116","data-component-file":"Projects.tsx","data-component-name":"ProjectForm","data-component-content":"%7B%22project%22%3A%22%5BIdentifier%5D%22%2C%22onSubmit%22%3A%22%5BConditionalExpression%5D%22%2C%22onCancel%22%3A%22%5BIdentifier%5D%22%7D"})})]})}export{U as Projects};
