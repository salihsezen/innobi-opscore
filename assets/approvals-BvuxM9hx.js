import{r as p}from"./vendor-react-CNbrv-oV.js";const O=[{value:"Pending",label:"Pending"},{value:"Approved",label:"Approved"},{value:"Paid",label:"Paid"},{value:"Overdue",label:"Overdue"},{value:"Cancelled",label:"Cancelled"}],b=e=>e==="Paid"||e==="Overdue"||e==="Cancelled"||e==="Pending"||e==="Approved"?e:"Pending",P=[{value:3,label:"Under Review"},{value:2,label:"Ordered"},{value:1,label:"Received"},{value:0,label:"Cancelled"}],E=e=>e!==0,i="innobi-approvals",v=(e,a)=>`${e}:${a}`,u=()=>{if(typeof localStorage>"u")return{};try{const e=localStorage.getItem(i);return e?JSON.parse(e):{}}catch{return{}}},S=e=>{typeof localStorage>"u"||localStorage.setItem(i,JSON.stringify(e))},g=(e,a)=>u()[v(e,a)]||[],A=(e,a,n,o=new Date().toISOString())=>{const l=u(),d=v(e,a),r=l[d]||[];l[d]=[...r,{action:n,timestamp:o}],S(l)},y=(e,a)=>{const[n,o]=p.useState(0);return p.useEffect(()=>{o(r=>r+1)},[a]),{approvals:p.useMemo(()=>a.reduce((r,s)=>{const t=g(e,s.id),c=t[t.length-1];return r[s.id]={state:t.length===0?"pending":c.action,lastUpdated:c==null?void 0:c.timestamp},r},{}),[e,a,n]),setApproval:(r,s)=>{A(e,r,s),o(t=>t+1)}}};export{O as I,P,E as i,b as n,y as u};
